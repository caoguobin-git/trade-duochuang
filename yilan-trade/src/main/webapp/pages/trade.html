<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>
        Title</title>
    <script src="http://code.jquery.com/jquery-latest.js"></script>
    <style>
        #market {
            background: #ffe7a8;
            width: 800px;
            height: 500px;
            overflow: auto;
            overflow-y: scroll;
            display: block;
        }

        .buy_price {
            display: inline-block;
            text-align: center;
            margin: 5px;
        }

        .sell_price {
            text-align: center;

            display: inline-block;
            margin: 5px;
        }

        .low_price {
            text-align: center;

            display: inline-block;
            margin: 5px;
        }

        .high_price {
            text-align: center;

            display: inline-block;
            margin: 5px;
        }

        .spread {
            text-align: center;

            display: inline-block;
            margin: 5px;
        }

        .time {
            text-align: center;

            display: inline-block;
            margin: 5px;
        }

        .symbol {
            text-align: center;

            display: inline-block;
            margin: 5px;
        }
    </style>
</head>
<body>
<button id="loginFXCM">
    登录福汇
</button>
<button id="getMarketDataSnapshot">
    获取市场数据
</button>
<button id="createMarketOrder">
    创建市价单
</button>
<button id="createSLMarketOrder">
    为市价单设置止盈止损
</button>
<button id="updateSLMarketOrder">
    更改仓位的止盈止损
</button>
<button id="deleteSLMarketOrder">
    删除仓位的止盈止损
</button>
<button id="deleteMarketOrder">
    对某个仓位进行平仓
</button>
<button id="deleteAllOpenPositions">
    全部平仓
</button>
<button id="createEntryOrder">
    创建挂单
</button>
<button id="updateEntryOrder">
    更改挂单
</button>
<button id="deleteEntryOrder">
    删除挂单
</button>
<button id="deleteAllEntryOrders">
    删除所有挂单
</button>
<button id="createSLEntryOrder">
    为挂单设置止盈/止损
</button>
<button id="updateSLEntryOrder">
    修改挂单止盈/止损
</button>
<button id="deleteSLEntryOrder">
    删除挂单的止盈/止损
</button>
<button id="getOpenPositions">
    获取开仓位置
</button>
<button id="getOpenOrders">
    获取所有订单
</button>
<button id="getClosedPositions">
    获取已平仓位置
</button>
<div id="allData"></div>
<div id="market">
    <div class="datas"
         id="USOil">
        <div class="symbol"></div>
        <div class="sell_price"></div>
        <div class="buy_price"></div>
        <div class="spread"></div>
        <div class="high_price"></div>
        <div class="low_price"></div>
        <div class="time"></div>
    </div>
    <div class="datas"
         id="AUDJPY">
        <div class="symbol"></div>
        <div class="sell_price"></div>
        <div class="buy_price"></div>
        <div class="spread"></div>
        <div class="high_price"></div>
        <div class="low_price"></div>
        <div class="time"></div>
    </div>
    <div class="datas"
         id="NZDCAD">
        <div class="symbol"></div>
        <div class="sell_price"></div>
        <div class="buy_price"></div>
        <div class="spread"></div>
        <div class="high_price"></div>
        <div class="low_price"></div>
        <div class="time"></div>
    </div>
    <div class="datas"
         id="EURCAD">
        <div class="symbol"></div>
        <div class="sell_price"></div>
        <div class="buy_price"></div>
        <div class="spread"></div>
        <div class="high_price"></div>
        <div class="low_price"></div>
        <div class="time"></div>
    </div>
    <div class="datas"
         id="USDZAR">
        <div class="symbol"></div>
        <div class="sell_price"></div>
        <div class="buy_price"></div>
        <div class="spread"></div>
        <div class="high_price"></div>
        <div class="low_price"></div>
        <div class="time"></div>
    </div>
    <div class="datas"
         id="AUS200">
        <div class="symbol"></div>
        <div class="sell_price"></div>
        <div class="buy_price"></div>
        <div class="spread"></div>
        <div class="high_price"></div>
        <div class="low_price"></div>
        <div class="time"></div>
    </div>
    <div class="datas"
         id="UKOil">
        <div class="symbol"></div>
        <div class="sell_price"></div>
        <div class="buy_price"></div>
        <div class="spread"></div>
        <div class="high_price"></div>
        <div class="low_price"></div>
        <div class="time"></div>
    </div>
    <div class="datas"
         id="EURNOK">
        <div class="symbol"></div>
        <div class="sell_price"></div>
        <div class="buy_price"></div>
        <div class="spread"></div>
        <div class="high_price"></div>
        <div class="low_price"></div>
        <div class="time"></div>
    </div>
    <div class="datas"
         id="NGAS">
        <div class="symbol"></div>
        <div class="sell_price"></div>
        <div class="buy_price"></div>
        <div class="spread"></div>
        <div class="high_price"></div>
        <div class="low_price"></div>
        <div class="time"></div>
    </div>
    <div class="datas"
         id="EURAUD">
        <div class="symbol"></div>
        <div class="sell_price"></div>
        <div class="buy_price"></div>
        <div class="spread"></div>
        <div class="high_price"></div>
        <div class="low_price"></div>
        <div class="time"></div>
    </div>
    <div class="datas"
         id="USDHKD">
        <div class="symbol"></div>
        <div class="sell_price"></div>
        <div class="buy_price"></div>
        <div class="spread"></div>
        <div class="high_price"></div>
        <div class="low_price"></div>
        <div class="time"></div>
    </div>
    <div class="datas"
         id="EUSTX50">
        <div class="symbol"></div>
        <div class="sell_price"></div>
        <div class="buy_price"></div>
        <div class="spread"></div>
        <div class="high_price"></div>
        <div class="low_price"></div>
        <div class="time"></div>
    </div>
    <div class="datas"
         id="GBPCAD">
        <div class="symbol"></div>
        <div class="sell_price"></div>
        <div class="buy_price"></div>
        <div class="spread"></div>
        <div class="high_price"></div>
        <div class="low_price"></div>
        <div class="time"></div>
    </div>
    <div class="datas"
         id="USDCAD">
        <div class="symbol"></div>
        <div class="sell_price"></div>
        <div class="buy_price"></div>
        <div class="spread"></div>
        <div class="high_price"></div>
        <div class="low_price"></div>
        <div class="time"></div>
    </div>
    <div class="datas"
         id="GER30">
        <div class="symbol"></div>
        <div class="sell_price"></div>
        <div class="buy_price"></div>
        <div class="spread"></div>
        <div class="high_price"></div>
        <div class="low_price"></div>
        <div class="time"></div>
    </div>
    <div class="datas"
         id="CADCHF">
        <div class="symbol"></div>
        <div class="sell_price"></div>
        <div class="buy_price"></div>
        <div class="spread"></div>
        <div class="high_price"></div>
        <div class="low_price"></div>
        <div class="time"></div>
    </div>
    <div class="datas"
         id="EURTRY">
        <div class="symbol"></div>
        <div class="sell_price"></div>
        <div class="buy_price"></div>
        <div class="spread"></div>
        <div class="high_price"></div>
        <div class="low_price"></div>
        <div class="time"></div>
    </div>
    <div class="datas"
         id="USDTRY">
        <div class="symbol"></div>
        <div class="sell_price"></div>
        <div class="buy_price"></div>
        <div class="spread"></div>
        <div class="high_price"></div>
        <div class="low_price"></div>
        <div class="time"></div>
    </div>
    <div class="datas"
         id="Copper">
        <div class="symbol"></div>
        <div class="sell_price"></div>
        <div class="buy_price"></div>
        <div class="spread"></div>
        <div class="high_price"></div>
        <div class="low_price"></div>
        <div class="time"></div>
    </div>
    <div class="datas"
         id="HKG33">
        <div class="symbol"></div>
        <div class="sell_price"></div>
        <div class="buy_price"></div>
        <div class="spread"></div>
        <div class="high_price"></div>
        <div class="low_price"></div>
        <div class="time"></div>
    </div>
    <div class="datas"
         id="GBPAUD">
        <div class="symbol"></div>
        <div class="sell_price"></div>
        <div class="buy_price"></div>
        <div class="spread"></div>
        <div class="high_price"></div>
        <div class="low_price"></div>
        <div class="time"></div>
    </div>
    <div class="datas"
         id="ETHUSD">
        <div class="symbol"></div>
        <div class="sell_price"></div>
        <div class="buy_price"></div>
        <div class="spread"></div>
        <div class="high_price"></div>
        <div class="low_price"></div>
        <div class="time"></div>
    </div>
    <div class="datas"
         id="NAS100">
        <div class="symbol"></div>
        <div class="sell_price"></div>
        <div class="buy_price"></div>
        <div class="spread"></div>
        <div class="high_price"></div>
        <div class="low_price"></div>
        <div class="time"></div>
    </div>
    <div class="datas"
         id="EURCHF">
        <div class="symbol"></div>
        <div class="sell_price"></div>
        <div class="buy_price"></div>
        <div class="spread"></div>
        <div class="high_price"></div>
        <div class="low_price"></div>
        <div class="time"></div>
    </div>
    <div class="datas"
         id="TRYJPY">
        <div class="symbol"></div>
        <div class="sell_price"></div>
        <div class="buy_price"></div>
        <div class="spread"></div>
        <div class="high_price"></div>
        <div class="low_price"></div>
        <div class="time"></div>
    </div>
    <div class="datas"
         id="AUDNZD">
        <div class="symbol"></div>
        <div class="sell_price"></div>
        <div class="buy_price"></div>
        <div class="spread"></div>
        <div class="high_price"></div>
        <div class="low_price"></div>
        <div class="time"></div>
    </div>
    <div class="datas"
         id="USDCHF">
        <div class="symbol"></div>
        <div class="sell_price"></div>
        <div class="buy_price"></div>
        <div class="spread"></div>
        <div class="high_price"></div>
        <div class="low_price"></div>
        <div class="time"></div>
    </div>
    <div class="datas"
         id="XAUUSD">
        <div class="symbol"></div>
        <div class="sell_price"></div>
        <div class="buy_price"></div>
        <div class="spread"></div>
        <div class="high_price"></div>
        <div class="low_price"></div>
        <div class="time"></div>
    </div>
    <div class="datas"
         id="FRA40">
        <div class="symbol"></div>
        <div class="sell_price"></div>
        <div class="buy_price"></div>
        <div class="spread"></div>
        <div class="high_price"></div>
        <div class="low_price"></div>
        <div class="time"></div>
    </div>
    <div class="datas"
         id="AUDUSD">
        <div class="symbol"></div>
        <div class="sell_price"></div>
        <div class="buy_price"></div>
        <div class="spread"></div>
        <div class="high_price"></div>
        <div class="low_price"></div>
        <div class="time"></div>
    </div>
    <div class="datas"
         id="NZDJPY">
        <div class="symbol"></div>
        <div class="sell_price"></div>
        <div class="buy_price"></div>
        <div class="spread"></div>
        <div class="high_price"></div>
        <div class="low_price"></div>
        <div class="time"></div>
    </div>
    <div class="datas"
         id="USDMXN">
        <div class="symbol"></div>
        <div class="sell_price"></div>
        <div class="buy_price"></div>
        <div class="spread"></div>
        <div class="high_price"></div>
        <div class="low_price"></div>
        <div class="time"></div>
    </div>
    <div class="datas"
         id="USDOLLAR">
        <div class="symbol"></div>
        <div class="sell_price"></div>
        <div class="buy_price"></div>
        <div class="spread"></div>
        <div class="high_price"></div>
        <div class="low_price"></div>
        <div class="time"></div>
    </div>
    <div class="datas"
         id="CHN50">
        <div class="symbol"></div>
        <div class="sell_price"></div>
        <div class="buy_price"></div>
        <div class="spread"></div>
        <div class="high_price"></div>
        <div class="low_price"></div>
        <div class="time"></div>
    </div>
    <div class="datas"
         id="ESP35">
        <div class="symbol"></div>
        <div class="sell_price"></div>
        <div class="buy_price"></div>
        <div class="spread"></div>
        <div class="high_price"></div>
        <div class="low_price"></div>
        <div class="time"></div>
    </div>
    <div class="datas"
         id="EURNZD">
        <div class="symbol"></div>
        <div class="sell_price"></div>
        <div class="buy_price"></div>
        <div class="spread"></div>
        <div class="high_price"></div>
        <div class="low_price"></div>
        <div class="time"></div>
    </div>
    <div class="datas"
         id="ZARJPY">
        <div class="symbol"></div>
        <div class="sell_price"></div>
        <div class="buy_price"></div>
        <div class="spread"></div>
        <div class="high_price"></div>
        <div class="low_price"></div>
        <div class="time"></div>
    </div>
    <div class="datas"
         id="GBPCHF">
        <div class="symbol"></div>
        <div class="sell_price"></div>
        <div class="buy_price"></div>
        <div class="spread"></div>
        <div class="high_price"></div>
        <div class="low_price"></div>
        <div class="time"></div>
    </div>
    <div class="datas"
         id="NZDUSD">
        <div class="symbol"></div>
        <div class="sell_price"></div>
        <div class="buy_price"></div>
        <div class="spread"></div>
        <div class="high_price"></div>
        <div class="low_price"></div>
        <div class="time"></div>
    </div>
    <div class="datas"
         id="USDJPY">
        <div class="symbol"></div>
        <div class="sell_price"></div>
        <div class="buy_price"></div>
        <div class="spread"></div>
        <div class="high_price"></div>
        <div class="low_price"></div>
        <div class="time"></div>
    </div>
    <div class="datas"
         id="GBPNZD">
        <div class="symbol"></div>
        <div class="sell_price"></div>
        <div class="buy_price"></div>
        <div class="spread"></div>
        <div class="high_price"></div>
        <div class="low_price"></div>
        <div class="time"></div>
    </div>
    <div class="datas"
         id="SPX500">
        <div class="symbol"></div>
        <div class="sell_price"></div>
        <div class="buy_price"></div>
        <div class="spread"></div>
        <div class="high_price"></div>
        <div class="low_price"></div>
        <div class="time"></div>
    </div>
    <div class="datas"
         id="CHFJPY">
        <div class="symbol"></div>
        <div class="sell_price"></div>
        <div class="buy_price"></div>
        <div class="spread"></div>
        <div class="high_price"></div>
        <div class="low_price"></div>
        <div class="time"></div>
    </div>
    <div class="datas"
         id="UK100">
        <div class="symbol"></div>
        <div class="sell_price"></div>
        <div class="buy_price"></div>
        <div class="spread"></div>
        <div class="high_price"></div>
        <div class="low_price"></div>
        <div class="time"></div>
    </div>
    <div class="datas"
         id="CORNF">
        <div class="symbol"></div>
        <div class="sell_price"></div>
        <div class="buy_price"></div>
        <div class="spread"></div>
        <div class="high_price"></div>
        <div class="low_price"></div>
        <div class="time"></div>
    </div>
    <div class="datas"
         id="EURUSD">
        <div class="symbol"></div>
        <div class="sell_price"></div>
        <div class="buy_price"></div>
        <div class="spread"></div>
        <div class="high_price"></div>
        <div class="low_price"></div>
        <div class="time"></div>
    </div>
    <div class="datas"
         id="SOYF">
        <div class="symbol"></div>
        <div class="sell_price"></div>
        <div class="buy_price"></div>
        <div class="spread"></div>
        <div class="high_price"></div>
        <div class="low_price"></div>
        <div class="time"></div>
    </div>
    <div class="datas"
         id="WHEATF">
        <div class="symbol"></div>
        <div class="sell_price"></div>
        <div class="buy_price"></div>
        <div class="spread"></div>
        <div class="high_price"></div>
        <div class="low_price"></div>
        <div class="time"></div>
    </div>
    <div class="datas"
         id="GBPUSD">
        <div class="symbol"></div>
        <div class="sell_price"></div>
        <div class="buy_price"></div>
        <div class="spread"></div>
        <div class="high_price"></div>
        <div class="low_price"></div>
        <div class="time"></div>
    </div>
    <div class="datas"
         id="EURJPY">
        <div class="symbol"></div>
        <div class="sell_price"></div>
        <div class="buy_price"></div>
        <div class="spread"></div>
        <div class="high_price"></div>
        <div class="low_price"></div>
        <div class="time"></div>
    </div>
    <div class="datas"
         id="AUDCHF">
        <div class="symbol"></div>
        <div class="sell_price"></div>
        <div class="buy_price"></div>
        <div class="spread"></div>
        <div class="high_price"></div>
        <div class="low_price"></div>
        <div class="time"></div>
    </div>
    <div class="datas"
         id="EURGBP">
        <div class="symbol"></div>
        <div class="sell_price"></div>
        <div class="buy_price"></div>
        <div class="spread"></div>
        <div class="high_price"></div>
        <div class="low_price"></div>
        <div class="time"></div>
    </div>
    <div class="datas"
         id="XAGUSD">
        <div class="symbol"></div>
        <div class="sell_price"></div>
        <div class="buy_price"></div>
        <div class="spread"></div>
        <div class="high_price"></div>
        <div class="low_price"></div>
        <div class="time"></div>
    </div>
    <div class="datas"
         id="US30">
        <div class="symbol"></div>
        <div class="sell_price"></div>
        <div class="buy_price"></div>
        <div class="spread"></div>
        <div class="high_price"></div>
        <div class="low_price"></div>
        <div class="time"></div>
    </div>
    <div class="datas"
         id="GBPJPY">
        <div class="symbol"></div>
        <div class="sell_price"></div>
        <div class="buy_price"></div>
        <div class="spread"></div>
        <div class="high_price"></div>
        <div class="low_price"></div>
        <div class="time"></div>
    </div>
    <div class="datas"
         id="NZDCHF">
        <div class="symbol"></div>
        <div class="sell_price"></div>
        <div class="buy_price"></div>
        <div class="spread"></div>
        <div class="high_price"></div>
        <div class="low_price"></div>
        <div class="time"></div>
    </div>
    <div class="datas"
         id="LTCUSD">
        <div class="symbol"></div>
        <div class="sell_price"></div>
        <div class="buy_price"></div>
        <div class="spread"></div>
        <div class="high_price"></div>
        <div class="low_price"></div>
        <div class="time"></div>
    </div>
    <div class="datas"
         id="USDNOK">
        <div class="symbol"></div>
        <div class="sell_price"></div>
        <div class="buy_price"></div>
        <div class="spread"></div>
        <div class="high_price"></div>
        <div class="low_price"></div>
        <div class="time"></div>
    </div>
    <div class="datas"
         id="US2000">
        <div class="symbol"></div>
        <div class="sell_price"></div>
        <div class="buy_price"></div>
        <div class="spread"></div>
        <div class="high_price"></div>
        <div class="low_price"></div>
        <div class="time"></div>
    </div>
    <div class="datas"
         id="CADJPY">
        <div class="symbol"></div>
        <div class="sell_price"></div>
        <div class="buy_price"></div>
        <div class="spread"></div>
        <div class="high_price"></div>
        <div class="low_price"></div>
        <div class="time"></div>
    </div>
    <div class="datas"
         id="BTCUSD">
        <div class="symbol"></div>
        <div class="sell_price"></div>
        <div class="buy_price"></div>
        <div class="spread"></div>
        <div class="high_price"></div>
        <div class="low_price"></div>
        <div class="time"></div>
    </div>
    <div class="datas"
         id="AUDCAD">
        <div class="symbol"></div>
        <div class="sell_price"></div>
        <div class="buy_price"></div>
        <div class="spread"></div>
        <div class="high_price"></div>
        <div class="low_price"></div>
        <div class="time"></div>
    </div>
    <div class="datas"
         id="Bund">
        <div class="symbol"></div>
        <div class="sell_price"></div>
        <div class="buy_price"></div>
        <div class="spread"></div>
        <div class="high_price"></div>
        <div class="low_price"></div>
        <div class="time"></div>
    </div>
    <div class="datas"
         id="USDSEK">
        <div class="symbol"></div>
        <div class="sell_price"></div>
        <div class="buy_price"></div>
        <div class="spread"></div>
        <div class="high_price"></div>
        <div class="low_price"></div>
        <div class="time"></div>
    </div>
    <div class="datas"
         id="EURSEK">
        <div class="symbol"></div>
        <div class="sell_price"></div>
        <div class="buy_price"></div>
        <div class="spread"></div>
        <div class="high_price"></div>
        <div class="low_price"></div>
        <div class="time"></div>
    </div>
    <div class="datas"
         id="USDCNH">
        <div class="symbol"></div>
        <div class="sell_price"></div>
        <div class="buy_price"></div>
        <div class="spread"></div>
        <div class="high_price"></div>
        <div class="low_price"></div>
        <div class="time"></div>
    </div>
    <div class="datas"
         id="JPN225">
        <div class="symbol"></div>
        <div class="sell_price"></div>
        <div class="buy_price"></div>
        <div class="spread"></div>
        <div class="high_price"></div>
        <div class="low_price"></div>
        <div class="time"></div>
    </div>
</div>
<div id="marketOrder">
    交易币种：<select
        class="symbol">
    <option>
        USOil
    </option>
    <option>
        AUD/JPY
    </option>
    <option>
        NZD/CAD
    </option>
    <option>
        EUR/CAD
    </option>
    <option>
        USD/ZAR
    </option>
    <option>
        AUS200
    </option>
    <option>
        UKOil
    </option>
    <option>
        EUR/NOK
    </option>
    <option>
        NGAS
    </option>
    <option>
        EUR/AUD
    </option>
    <option>
        USD/HKD
    </option>
    <option>
        EUSTX50
    </option>
    <option>
        GBP/CAD
    </option>
    <option>
        USD/CAD
    </option>
    <option>
        GER30
    </option>
    <option>
        CAD/CHF
    </option>
    <option>
        EUR/TRY
    </option>
    <option>
        USD/TRY
    </option>
    <option>
        Copper
    </option>
    <option>
        HKG33
    </option>
    <option>
        GBP/AUD
    </option>
    <option>
        ETH/USD
    </option>
    <option>
        NAS100
    </option>
    <option>
        EUR/CHF
    </option>
    <option>
        TRY/JPY
    </option>
    <option>
        AUD/NZD
    </option>
    <option>
        USD/CHF
    </option>
    <option>
        XAU/USD
    </option>
    <option>
        FRA40
    </option>
    <option>
        AUD/USD
    </option>
    <option>
        NZD/JPY
    </option>
    <option>
        USD/MXN
    </option>
    <option>
        USDOLLAR
    </option>
    <option>
        CHN50
    </option>
    <option>
        ESP35
    </option>
    <option>
        EUR/NZD
    </option>
    <option>
        ZAR/JPY
    </option>
    <option>
        GBP/CHF
    </option>
    <option>
        NZD/USD
    </option>
    <option>
        USD/JPY
    </option>
    <option>
        GBP/NZD
    </option>
    <option>
        SPX500
    </option>
    <option>
        CHF/JPY
    </option>
    <option>
        UK100
    </option>
    <option>
        CORNF
    </option>
    <option>
        EUR/USD
    </option>
    <option>
        SOYF
    </option>
    <option>
        WHEATF
    </option>
    <option>
        GBP/USD
    </option>
    <option>
        EUR/JPY
    </option>
    <option>
        AUD/CHF
    </option>
    <option>
        EUR/GBP
    </option>
    <option>
        XAG/USD
    </option>
    <option>
        US30
    </option>
    <option>
        GBP/JPY
    </option>
    <option>
        NZD/CHF
    </option>
    <option>
        LTC/USD
    </option>
    <option>
        USD/NOK
    </option>
    <option>
        US2000
    </option>
    <option>
        CAD/JPY
    </option>
    <option>
        BTC/USD
    </option>
    <option>
        AUD/CAD
    </option>
    <option>
        Bund
    </option>
    <option>
        USD/SEK
    </option>
    <option>
        EUR/SEK
    </option>
    <option>
        USD/CNH
    </option>
    <option>
        JPN225
    </option>
</select>
    <br/>
    交易数量：<input
        type="number"
        class="amount">
    <br/>

    当前汇率：<input
        type="text"
        class="rate">
    <br/>

    <input type="radio"
           name="side"
           value="sell"
           checked="checked">卖出

    <input type="radio"
           name="side"
           value="buy">买入
    <br/>

    <input type="checkbox"
           value="stop"
           class="stop_check">止损
    <input type="text"
           class="stop_price">
    <span class="stop_rate"></span>
    <input type="text"
           class="rate">
    <br/>

    <input type="checkbox"
           value="limit"
           class="limit_check">止盈
    <input type="text"
           class="limit_price">
    <span class="limit_rate"></span>
    <input type="text"
           class="rate">
    <br/>

    <button id="createRealMarketOrder">
        创建市价单
    </button>

</div>
<div id="accounts"
     style="background: red;width: 800px;height: 200px;">
    <select class="account">

    </select>
    <button class="hideAndDisplay"
            value="collateralReports">
        账户
    </button>
    <button class="hideAndDisplay"
            value="openOrders">
        挂单
    </button>
    <button class="hideAndDisplay"
            value="openPositions">
        开仓部位
    </button>
    <button class="hideAndDisplay"
            value="closedPositions">
        已平仓部位
    </button>

    <div class="collateralReports">
        账户
        <table class="collateralReport"></table>
    </div>
    <div class="openOrders">
        挂单
        <table class="openOrder"></table>
    </div>
    <div class="openPositions">
        开仓部位
        <div class="openPosition"></div>
    </div>
    <div class="closedPositions">
        已平仓部位
        <table class="closedPosition"></table>
    </div>
</div>

</body>
</html>
<script>
    $(function () {
        $("#loginFXCM").click(loginFXCM)
        $("#getMarketDataSnapshot").click(getMarketDataSnapshot)
        $("#createMarketOrder").click(createMarketOrder)
        $("#createSLMarketOrder").click(createSLMarketOrder)
        $("#updateSLMarketOrder").click(updateSLMarketOrder)
        $("#deleteSLMarketOrder").click(deleteSLMarketOrder)
        $("#deleteMarketOrder").click(deleteMarketOrder)
        $("#deleteAllOpenPositions").click(deleteAllOpenPositions)
        $("#createEntryOrder").click(createEntryOrder)
        $("#updateEntryOrder").click(updateEntryOrder)
        $("#deleteEntryOrder").click(deleteEntryOrder)
        $("#deleteAllEntryOrders").click(deleteAllEntryOrders)
        $("#createSLEntryOrder").click(createSLEntryOrder)
        $("#updateSLEntryOrder").click(updateSLEntryOrder)
        $("#deleteSLEntryOrder").click(deleteSLEntryOrder)
        $("#getOpenPositions").click(getOpenPositions)
        $("#getOpenOrders").click(getOpenOrders)
        $("#getClosedPositions").click(getClosedPositions)
        $("#createRealMarketOrder").click(createMarketOrder)
        setInterval(getMarketDataSnapshot, 500)
        setInterval(doSetMarketOrder, 500)
        setInterval(getCollateralReport, 500)
        setInterval(getOpenOrders, 500)
        setInterval(getOpenPositions, 500)
        setInterval(getClosedPositions, 500)
        $(".datas").click(doSetMarketOrderSymbol)
        $("#marketOrder .symbol").bind("change", setMarketOrderRate)
        setInterval(doSetOptions, 500)
        $("#accounts .hideAndDisplay").click(doHideAndDisplay)
        $("#accounts div").css("display", "none")
        $("#accounts .collateralReports").css("display", "block")
        $(".openPosition").click(hello)


    })

    function hello() {
        console.log($(this).children('td').eq(0).val())
    }

    //选择显示栏位
    function doHideAndDisplay(e) {
        $("#accounts div").css("display", "none")
        var val = $(this).val();
        $("#accounts ." + val + "").css("display", "block")
    }

    //统一设置各状态信息
    function doSetOptions() {
        var id = $("#accounts .account").val();
        var collateral = $("#allData").data("collateralReport");
        var open = $("#allData").data("openPosition");
        var openOrder = $("#allData").data("openOrder");
        var close = $("#allData").data("closedPosition");
        setOpenOrderRows(openOrder[id])
        setCollateralReportRows(collateral[id])
        setOpenPostionsRows(open[id])
        setClosedPostionsRows(close[id])
    }

    function setOpenOrderRows(positions) {
        var table = $("#accounts .openOrders .openOrder");
        table.empty();
        $.each(positions, function (key, val) {
            var tr = ("<tr>" +
                "<td>" + val.mainOrder.orderID + "</td>" +
                "<td>" + val.mainOrder.account + "</td>" +
                "<td>" + val.mainOrder.fxcmordType.code + "</td>" +
                "<td>" + val.mainOrder.fxcmordStatus.label + "</td>" +
                "<td>" + val.mainOrder.instrument.symbol + "</td>" +
                "<td>" + val.mainOrder.leavesQty + "</td>" +
                "</tr>")
            table.append(tr);
        })
    }

    function setCollateralReportRows(positions) {
        var table = $("#accounts .collateralReports .collateralReport");
        table.empty();
        var val = positions;
        var tr = ("<tr>" +
            "<td>" + val.account + "</td>" +
            "<td>" + val.cashOutstanding + "</td>" +
            "<td>" + val.fxcmusedMargin + "</td>" +
            "<td>" + (val.cashOutstanding - val.fxcmusedMargin) + "</td>" +
            "</tr>")
        table.append(tr);
    }

    function setClosedPostionsRows(positions) {
        var table = $("#accounts .closedPositions .closedPosition");
        table.empty();
        $.each(positions, function (key, val) {
            var tr = ("<tr>" +
                "<td>" + val.fxcmposID + "</td>" +
                "<td>" + val.account + "</td>" +
                "<td>" + val.instrument.symbol + "</td>" +
                "<td>" + val.positionQty.qty + "</td>" +
                "<td>" + val.positionQty.side.desc + "</td>" +
                "<td>" + val.settlPrice + "</td>" +
                "<td>" + val.fxcmcloseSettlPrice + "</td>" +
                "<td>" + jisuan(val.settlPrice, val.fxcmcloseSettlPrice, val.positionQty.side.code, val.instrument.fxcmsymPointSize).toFixed(1) + "</td>" +
                "</tr>")
            table.append(tr);
        })

        function jisuan(a, b, c, d) {
            var result = 0;
            if (c == 1) {
                result = b - a;

            } else {
                result = a - b;
            }
            return result / d;
        }
    }

    function setOpenPostionsRows(positions) {
        var table = $("#accounts .openPositions .openPosition");
        console.log(table)
        console.log("setOpenPositions")
        table.empty();
        $.each(positions, function (key, val) {
            var tr = $("<div style='display: inline-block;' class='time'>" + key + "</div>" +
                "<div style='display: inline-block;' class='time'>" + val.position.account + "</div>" +
                "<div style='display: inline-block;' class='time'>" + val.position.instrument.symbol + "</div>" +
                "<div style='display: inline-block;' class='time'>" + val.position.positionQty.qty + "</div>" +
                "<div style='display: inline-block;' class='time'>" + val.position.positionQty.side.desc + "</div>" +
                "<div style='display: inline-block;' class='time'>" + val.position.settlPrice + "</div>" +
                "<div style='display: inline-block;' class='time'>" + val.position.fxcmusedMargin + "</div><br/>")
            table.append(tr);
        })
    }

    function setMarketOrderRate() {
        var symbol = $("#marketOrder .symbol").val();
        symbol = symbol.replace("/", "");
        var pointSize = $("#" + symbol).data("market").instrument.fxcmsymPrecision;

        var side = $('input[name="side"]:checked').val();
        var rate = 0;
        if ("sell" == side) {
            rate = $("#" + symbol).data("market").bidOpen;
        } else if ("buy" == side) {
            rate = $("#" + symbol).data("market").askOpen;
        }
        $("#marketOrder .limit_price").val(rate.toFixed(pointSize))
        $("#marketOrder .stop_price").val(rate.toFixed(pointSize))
    }

    function doSetMarketOrder() {

        var symbol = $("#marketOrder .symbol").val();
        symbol = symbol.replace("/", "");
        var pointSize = $("#" + symbol).data("market").instrument.fxcmsymPrecision;
        var side;
        side = $('input[name="side"]:checked').val();
        if ("sell" == side) {
            var rate = $("#" + symbol).data("market").bidOpen;
            $(".stop_rate").html(">")
            $(".limit_rate").html("<")
            $("#marketOrder .rate").val(rate.toFixed(pointSize))
        } else if ("buy" == side) {
            rate = $("#" + symbol).data("market").askOpen;
            $(".stop_rate").html("<")
            $(".limit_rate").html(">")
            $("#marketOrder .rate").val(rate.toFixed(pointSize))

        }

    }

    function doSetMarketOrderSymbol() {
        var id = this.id;
        var symbol = $("#" + id).data("market").instrument.symbol;
        $("#marketOrder .symbol").val(symbol)
        setMarketOrderRate();
    }

    function getMarketDataSnapshot() {
        var url = "/trade/getMarketDataSnapshot.do";
        $.ajax({
            url: url,
            dataType: "jsonP",
            type: "get",
            success: function (result) {
                $("#allData").data("marketData", result)
                doCreatRows(result)
            }
        })

    }

    function getClosedPositions() {
        var url = "/trade/getClosedPositions.do";
        $.ajax({
            url: url,
            dataType: "json",
            type: "post",
            success: function (result) {
                $("#allData").data("closedPosition", result.data)
            }
        })
    }

    function getOpenOrders() {
        var url = "/trade/getOpenOrders.do";
        $.ajax({
            url: url,
            dataType: "json",
            type: "post",
            success: function (result) {
                $("#allData").data("openOrder", result.data)
            }
        })
    }

    function getCollateralReport() {
        var url = "/trade/getCollateralReport.do";
        $.ajax({
            url: url,
            dataType: "json",
            type: "post",
            success: function (result) {
                $("#allData").data("collateralReport", result.data)
            }
        })

    }

    function getOpenPositions() {
        var url = "/trade/getOpenPositions.do"
        $.ajax({
            url: url,
            dataType: "json",
            type: "post",
            success: function (result) {
                // console.log(result.data)
                doCreateAccountRows(result.data);
                $("#allData").data("openPosition", result.data)
            }
        })
    }

    function doCreateAccountRows(openPositionMap) {
        var select = $("#accounts .account");
        $.each(openPositionMap, function (key, item) {
            if (isOptionExist(select, key)) {
            } else {
                select.append("<option value='" + key + "'>" + key + "</option>")
            }
        })
    }

    function isOptionExist(select, key) {
        var isExist = false;
        for (var i = 0; i < select[0].length; i++) {
            if (select[0][i].value == key) {
                isExist = true;
                break;
            }
        }
        return isExist;
    }

    function deleteSLEntryOrder() {
        var url = "/trade/deleteSLEntryOrder.do";
        var param = {
            "orderId": 104563467,
            "type": "limit"
        }
        sendFxcmRequest(url, param)
    }

    function updateSLEntryOrder() {
        var url = "/trade/updateSLEntryOrder.do";
        var param = {
            "orderId": 104563467,
            "type": "limit",
            "price": 1.15
        }
        sendFxcmRequest(url, param)
    }

    function createSLEntryOrder() {
        var url = "/trade/createSLEntryOrder.do";
        var param = {
            "orderId": 104563452,
            "type": "stop",
            "price": 0.95
        }
        sendFxcmRequest(url, param)
    }

    function deleteAllEntryOrders() {
        var url = "/trade/deleteAllEntryOrders.do";
        sendFxcmRequest(url, param)
    }

    function deleteEntryOrder() {
        var url = "/trade/deleteEntryOrder.do";
        var param = {
            "orderId": 104562911
        }
        sendFxcmRequest(url, param)
    }

    function updateEntryOrder() {
        var url = "/trade/updateEntryOrder.do";
        var param = {
            "orderId": 104562911,
            "amount": 1000,
            "price": 1.05,
        }
        sendFxcmRequest(url, param)
    }

    function deleteMarketOrder() {
        var url = "/trade/deleteMarketOrder.do";
        var param = {
            "fxcmPosID": 63825945
        }
        sendFxcmRequest(url, param)
    }

    function deleteSLMarketOrder() {
        var url = "/trade/deleteSLMarketOrder.do";
        var param = {
            "orderId": 104560731,
            "type": "limit"
        }
        sendFxcmRequest(url, param)
    }

    function updateSLMarketOrder() {
        var url = "/trade/updateSLMarketOrder.do";
        var param = {
            "orderId": 104560731,
            "type": "limit",
            "price": 1.03
        }
        sendFxcmRequest(url, param)
    }

    function createSLMarketOrder() {
        var url = "/trade/createSLMarketOrder.do";
        var param = {
            "fxcmPosId": 63825913,
            "type": "limit",
            "price": 1.05
        }
        sendFxcmRequest(url, param)

    }

    function loginFXCM() {
        var url = "/trade/loginFXCM.do";
        var param = {
            "fxcmPassword": 890128
        }
        sendFxcmRequest(url, param)

    }

    function deleteAllOpenPositions() {
        var url = "/trade/deleteAllOpenPositions.do";
        sendFxcmRequest(url, param)

    }

    function createMarketOrder() {
        var url = "/trade/createMarketOrder.do";
        var stop_price = 0;
        var limit_price = 0;
        if ($("#marketOrder .stop_check").prop("checked")) {
            stop_price = $("#marketOrder .stop_price").val();
            console.log("stop_price:" + stop_price)
        }
        if ($("#marketOrder .limit_check").prop("checked")) {
            limit_price = $("#marketOrder .limit_price").val();
            console.log("limit price:" + limit_price)
        }

        console.log($("#marketOrder .symbol").val())
        var param = {
            "currency": $("#marketOrder .symbol").val(),
            "tradeSide": $('input[name="side"]:checked').val(),
            "tradeAmount": $("#marketOrder .amount").val(),
            "tradeStop": stop_price,
            "tradeLimit": limit_price
        }
        sendFxcmRequest(url, param);
    }

    function createEntryOrder() {
        var url = "/trade/createEntryOrder.do";
        var param = {
            "currency": "EUR/USD",
            "price": 1.1,
            "type": "limit",
            "amount": 1000,
            "side": "buy",
            "stop": 0,
            "limit": 0
        }
        sendFxcmRequest(url, param);
    }

    function sendFxcmRequest(url, param) {
        $.ajax({
            url: url,
            data: param,
            type: "post",
            success: function (result) {
                console.log(result)
            }
        })

    }


    function doCreatRows(resultMap) {
        $.each(resultMap, function (key, item) {
            var pointSize = item.instrument.fxcmsymPrecision;

            var _key = key.replace("/", "");
            //将市场数据放到div中保存
            //todo 将market数据放到
            $("#" + _key).data("market", item);

            $("#" + _key + " .symbol").html(item.instrument.symbol);
            $("#" + _key + " .sell_price").html(item.bidOpen.toFixed(pointSize));
            $("#" + _key + " .buy_price").html(item.askOpen.toFixed(pointSize));
            $("#" + _key + " .spread").html(((item.askOpen - item.bidOpen) / item.instrument.fxcmsymPointSize).toFixed(2));
            $("#" + _key + " .high_price").html(item.high.toFixed(pointSize));
            $("#" + _key + " .low_price").html(item.low.toFixed(pointSize));
            $("#" + _key + " .time").html(new Date(item.tickTime.time).getHours() + ":" + ((new Date(item.tickTime.time).getMinutes()).toString().length > 1 ? new Date(item.tickTime.time).getMinutes() : ("0" + new Date(item.tickTime.time).getMinutes())) + ":" + new Date(item.tickTime.time).getSeconds());

        })
    }
</script>